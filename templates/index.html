<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Decision-Tree</title>
    <!-- 引入 Bootstrap -->
    <link href="{{ url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/prettify.css')}}">
</head>
<body>
<section>
   <div class="iframe" align="center">
       <p>点击按钮生成决策树：</p>
{#       <a class="btn" onclick="create()">生成决策树</a>#}
       <button class="btn" onclick="createTree()">生成决策树</button>
   </div>
   <div id="picture"> </div>
</section>
   <section>
       <form class="form-horizontal" action="/action/dealdata" method="post">
           <div class="form-group">
               <label for="imputSeze" class="col-sm-2 control-label">色泽</label>
               <div class="col-sm-2">
                   <select class="form-control" name="seze">
                       <option>qinglv</option>
                       <option>wuhei</option>
                       <option>qianbai</option>
                   </select>
               </div>
           </div>
           <div class="form-group">
               <label for="imputGendi" class="col-sm-2 control-label">根蒂</label>
               <div class="col-sm-2">
                   <select class="form-control" name="gendi">
                       <option>quansuo</option>
                       <option>shaoquan</option>
                       <option>yingting</option>
                   </select>
               </div>
           </div>
           <div class="form-group">
               <label for="imputQiaosheng" class="col-sm-2 control-label">敲声</label>
               <div class="col-sm-2">
                   <select class="form-control" name="qiaosheng">
                       <option>zhuoxiang</option>
                       <option>chenmen</option>
                       <option>qingcui</option>
                   </select>
               </div>
           </div>
           <div class="form-group">
               <label for="imputWenli" class="col-sm-2 control-label">纹理</label>
               <div class="col-sm-2">
                   <select class="form-control" name="wenli">
                       <option>qingxi</option>
                       <option>shaohu</option>
                       <option>mohu</option>
                   </select>
               </div>
           </div>
           <div class="form-group">
               <label for="imputQibu" class="col-sm-2 control-label">脐部</label>
               <div class="col-sm-2">
                   <select class="form-control" name="qibu">
                       <option>aoxian</option>
                       <option>shaoao</option>
                       <option>pingtan</option>
                   </select>
               </div>
           </div>
           <div class="form-group">
               <label for="imputChugan" class="col-sm-2 control-label">触感</label>
               <div class="col-sm-2">
                   <select class="form-control" name="chugan">
                       <option>yinghua</option>
                       <option>ruannian</option>
                   </select>
               </div>
           </div>
{#           <input type="text" name="seze" placeholder="青绿、乌黑、浅白"> <br />#}
           <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                  <button type="submit" class="btn btn-default" onclick="transdata()">提交</button>
                </div>
           </div>

           <div id="labels"></div>
       </form>
   </section>




<script src="../static/js/jquery.min.js"></script>
<script type="text/javascript" src="../static/js/prettify/prettify.js"></script>
<script src="https://cdn.bootcss.com/prettify/r298/run_prettify.js"></script>
<script src="../static/js/layout.js"></script>
<script src="../static/js/jquery-latest.js"></script>


<script language="JavaScript">
function createTree() {
    $('#picture').html('');
    $.ajax({
        url:'/action/create',
        type:'GET',
        async:false,
        data:{},
        success:function (data) {
{#            console.log(data);#}
            deal(data)
        },
        error:function (xhr,testStatus) {
            console.log('error')
        }
    })
}


function deal(data) {
    var imgNode = document.createElement('img');
    imgNode.setAttribute('src','data:image/png;base64,'+ data);
    document.getElementById('picture').appendChild(imgNode);
}

function transdata() {
    $.ajax({
        url:'/action/dealdata',
        type:'POST',
        async:false,
        data:{},
        success:function (results) {
{#            show(results)#}
            alert(results)
        },
        error:function (xhr,testState) {
            console.log('error')
        }

    })
}

function show() {
{#    var imgNode = document.createElement('input');#}
{#    imgNode.setAttribute('src','data:image/png;base64,'+ data);#}
{#    document.getElementById('labels').appendChild(imgNode);#}
}


</script>
</body>
</html>